<H1 id="class Name"> The class ''Name'' </H1>

<HR>
<pre>
NAME:                       "The class 'Name'"
FILE:                       spec/library/Name.html
CATEGORY:                   Pre-defined classes
SOURCES:                    REFERENCES [1], [2]
SPEC AUTHOR:                Lars
DRAFT STATUS:               DRAFT 1 - 2008-03-05
REVIEWED AGAINST ES3:       N/A
REVIEWED AGAINST ERRATA:    N/A
REVIEWED AGAINST BASE DOC:  N/A
REVIEWED AGAINST PROPOSALS: YES
REVIEWED AGAINST CODE:      YES
REVIEWED AGAINST TICKETS:   NO
IMPLEMENTATION STATUS:      ES4 RI
TEST CASE STATUS:           ?


CHANGES SINCE DRAFT 1 (2008-03-05)

  * Compatibility note in intro.

  * More elaborate status block above.

  * Prototype and intrinsic methods forward to private methods now.

  * The Name constructor is allowed to hash-cons.

  * The Name converter is required to return its first argument if it
    is a Name object and the second parameter is undefined.


NOTES

  * Due to an RI bug (#368), the namespace 'Private' is used instead
    of 'private'.


OPEN ISSUES

  * intrinsic::valueOf returns a string, but should it return the Name
    object instead?  (The original proposal returns a string.)

  * The constructor accepts combinations of arguments deemed to be
    useful (a convenient but restrained superset of the types in
    EnumerableId).  It's pretty ad-hoc, though.  Any better proposals?


REFERENCES

[1] http:&#x2f;&#x2f;wiki.ecmascript.org/doku.php?id=proposals:name_objects
[2] builtins/Name.es in the ES4 RI
</pre>
<HR>

<P> The class ''Name'' is a final, nullable, non-dynamic, direct
subclass of ''String'' that reflects a property name as a pair of
''Namespace'' and ''string'' values.

<COMP> The ''Namespace'' class is new in the 4th Edition of this Standard.

== Synopsis ==

<P> The class ''Name'' provides the following interface:

{{{
__ES4__ final class Name extends String
{
    <SIGNATURE file="Name.es" name="public function Name">
    <SIGNATURE file="Name.es" name="static meta function invoke">
    
    public static const length = 2

    <SIGNATURE file="Name.es" name="override intrinsic function toString">
    <SIGNATURE file="Name.es" name="override intrinsic function valueOf">

    public const qualifier:  Namespace
    public const identifier: string
}
}}}

<P> The ''Name'' prototype object provides the following direct properties:

{{{
    toString: function (this: Name) <LDOTS>
    valueOf:  function (this: Name) <LDOTS>
}}}

== Methods on the ''Name'' class object ==

=== new Name( a, b=<LDOTS> ) ===

<DESC> The ''Name'' constructor initializes a new ''Name'' object.
Various combinations of the two arguments //a// and //b// are allowed.
If //a// is a string, a ''Name'', or an integer in the range
[0,2<SUP>32</SUP>) then //b// must be **undefined**.  Otherwise, if
//a// is a ''Namespace'' then //b// must be a string or an integer in
the range [0,2<SUP>32</SUP>).

<P> The ''Name'' constructor is not required to construct a new,
unique object every time it is called.

<IMPL> The ''Name'' constructor is implementation-dependent.

<P> The helper function ''analyzeArgs'', called by the ''Name''
constructor, takes the two values //a// and //b// that were passed to
the ''Name'' constructor and returns an object containing a ''qualifier''
in the form of a namespace (which may be **null**) and an ''identifier''
in the form of a string.  The qualifier and identifier are used to
create the ''Name'' object.

<INCLUDE file="Name.es" name="static helper function analyzeArgs">

=== Name (a, b=<LDOTS>) ===

<DESC> When the ''Name''class object called as a function it creates a
''Name'' object.  If ''a'' is a ''Name'' object and ''b'' is
**undefined** then ''a'' is returned.  Otherwise, a ''Name'' object is
created by invoking the ''Name'' constructor on the parameters //a//
and //b//.

<RETN> The ''Name'' class object called as a function returns a
''Name'' object.

<SHORTIMPL>
<INCLUDE file="Name.es" name="static meta function invoke">


== Methods on ''Name'' instances ==

=== intrinsic::toString ( ) ===

<DESC> The intrinsic ''toString'' method converts this ''Name'' object
to a string.

<RETN> The intrinsic ''toString'' method returns a string.

<SHORTIMPL>
<INCLUDE file="Name.es" name="override intrinsic function toString">
<INCLUDE file="Name.es" name="Private function toString">

=== intrinsic::valueOf ( ) ===

<RETN> The intrinsic ''valueOf'' method returns what the private
''toString'' method returns.

<SHORTIMPL>
<INCLUDE file="Name.es" name="override intrinsic function valueOf">

== Value properties of ''Name'' instances ==

=== qualifier ===

<P> The ''qualifier'' property holds the namespace value for this
''Name'' object.  It may be null.

=== identifier ===

<P> The ''identifier'' property holds the identifier value for this
''Name'' object.  It is never null.


== Methods on the ''Name'' prototype object ==

<DESC> The methods on the ''Name'' prototype object perform the same
operations as their corresponding intrinsic methods perform.

<RETN> The methods on the ''Name'' prototype object return what their
corresponding intrinsic methods return.

<SHORTIMPL>
<INCLUDE file="Name.es" name="prototype function toString">
<INCLUDE file="Name.es" name="prototype function valueOf">

<!-- end -->
