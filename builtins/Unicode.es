/* -*- mode: java; indent-tabs-mode: nil -*- */

package Unicode
{
    use namespace intrinsic;

    /* Unicode line break characters */
    public const linebreaks = "\u000A\u000D\u0085\u2028\u2029";

    /* Unicode space characters, less character values below SPACE */
    public const spaces = ("\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004" +
                           "\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000");

    /* "Blank" characters: spaces plus space-like control characters */
    public const blanks = "\t\v\f" + spaces;

    /* Unicode decimal digit characters */
    public const decimal_digits = "0123456789";

    /* Unicode hex digit characters */
    public const hex_digits = "0123456789abcdefABCDEF";

    /* Word characters */
    public const alphanumerics = ("ABCDEFGHIJKLMNOPQRSTUVWXYZ" +
                                  "abcdefghijklmnopqrstuvwxyz" +
                                  "0123456789" +
                                  "_");

    /* Unicode format control characters */
    public const format_controls = ("\u00AD\u0600\u0601\u0602\u0603" +
                                    "\u06DD\u070F\u17B4\u17B5\u200B" +
                                    "\u200C\u200D\u200E\u200F\u202A" +
                                    "\u202B\u202C\u202D\u202E\u2060" +
                                    "\u2061\u2062\u2063\u206A\u206B" +
                                    "\u206C\u206D\u206E\u206F\uFEFF" +
                                    "\uFFF9\uFFFA\uFFFB");

    /* Simple utility class for managing a constant set of characters
     * with quick lookup.
     */
    class CharSet 
    {
        function CharSet(cs) {
            for (let i=0 ; i < buckets.length ; i++ )
                buckets[i] = new Array();
            for (let i=0 ; i < cs.length ; i++ ) {
                let s : string = cs[i];
                for (let j=0; j < s.length; j++) {
                    let cc : uint = s.charCodeAt(j);
                    buckets[cc % buckets.length].push(cc);
                }
            }
        }

        function containsCode(cc) {
            let bucket : Array = buckets[cc % nbuckets];
            let lim : uint = bucket.length;
            for (let i : uint = 0u; i < lim; ++i)
                if (bucket[i] == cc)
                    return true;
            return false;
        }
        
        function contains(str) {
            let lim = str.length;
            for (let i : uint = 0u; i < lim; ++i)
                if (!containsCode(str.charCodeAt(i)))
                    return false;
            return true;
        }

        static const nbuckets : uint = 37u;
        var buckets = new Array(nbuckets);  /* FIXME: private */
    }

    /* Utility functions for String */

    const trimmable_space_chars =
        new CharSet(explodeString(blanks + "\n\r"));

    public function isTrimmableSpace(c: string) : boolean
        trimmable_space_chars.contains(c);


    /* Utility functions for Regular Expressions */

    public function isIdentifierStart(c) {
        /* FIXME -- hairy, but not yet important.  For now, ASCII.  Ticket #49. */
        return c >= 'a' && c <= 'z' || c >= 'A' && c <= 'Z' || c == '_' || c == '$';
    }

    public function isIdentifierPart(c) {
        /* FIXME -- hairy, but not yet important.  For now, ASCII.  Ticket #49. */
        return isIdentifierStart(c) || c >= '0' && c <= '9';
    }

    const terminator_chars = 
        new CharSet(explodeString(linebreaks));

    public function isTerminator(c : string) : boolean
        terminator_chars.contains(c);

    public function isTerminatorCode(cc : uint) : boolean
        terminator_chars.containsCode(cc);

    const decimal_digit_chars = 
        new CharSet(explodeString(decimal_digits));

    public function isDecimalDigit(c: string) : boolean
        decimal_digit_chars.contains(c);

    public function decimalValue(c: string) : boolean
        c.charCodeAt(0) - "0".charCodeAt(0);
        
    const hex_digit_chars = 
        new CharSet(explodeString(hex_digits));

    public function isHexDigit(c: string) : boolean
        hex_digit_chars.contains(c);

    public function hexValue(c) : double {
        if (c >= "0" && c <= "9")
            return c.charCodeAt(0) - "0".charCodeAt(0);
        else
            return c.toUpperCase().charCodeAt(0) - "A".charCodeAt(0) + 10;
    }

    public function isOctalDigit(c: string) : boolean
        c >= "0" && c <= "7";

    public function octalValue(c: string) : boolean
        c.charCodeAt(0) - "0".charCodeAt(0);
        
    const blank_chars = 
        new CharSet(explodeString(blanks));

    public function isBlank(c : string) : boolean
        blank_chars.contains(c);

    public function isBlankCode(cc : uint) : boolean
        blank_chars.containsCode(cc);

    const word_chars = 
        new CharSet(explodeString(alphanumerics));

    public function isWordChar(c: string) : boolean 
        word_chars.contains(c);

    const format_control = new CharSet(explodeString(format_controls));

    public function isFormatControl(c)
        format_control.contains(c);

    public function isFormatControlCode(cc:uint)
        format_control.containsCode(cc);

    public function explodeString(s : string) : [string] {
        let cs : [string] = [] : [string];
        for ( let i=0 ; i < s.length ; i++ )
            cs[i] = s[i];
        return cs;
    }

    var upper = [];
    var lower = [];

    upper[0x0061] = 0x0041;
    upper[0x0062] = 0x0042;
    upper[0x0063] = 0x0043;
    upper[0x0064] = 0x0044;
    upper[0x0065] = 0x0045;
    upper[0x0066] = 0x0046;
    upper[0x0067] = 0x0047;
    upper[0x0068] = 0x0048;
    upper[0x0069] = 0x0049;
    upper[0x006A] = 0x004A;
    upper[0x006B] = 0x004B;
    upper[0x006C] = 0x004C;
    upper[0x006D] = 0x004D;
    upper[0x006E] = 0x004E;
    upper[0x006F] = 0x004F;
    upper[0x0070] = 0x0050;
    upper[0x0071] = 0x0051;
    upper[0x0072] = 0x0052;
    upper[0x0073] = 0x0053;
    upper[0x0074] = 0x0054;
    upper[0x0075] = 0x0055;
    upper[0x0076] = 0x0056;
    upper[0x0077] = 0x0057;
    upper[0x0078] = 0x0058;
    upper[0x0079] = 0x0059;
    upper[0x007A] = 0x005A;
    upper[0x00B5] = 0x039C;
    upper[0x00E0] = 0x00C0;
    upper[0x00E1] = 0x00C1;
    upper[0x00E2] = 0x00C2;
    upper[0x00E3] = 0x00C3;
    upper[0x00E4] = 0x00C4;
    upper[0x00E5] = 0x00C5;
    upper[0x00E6] = 0x00C6;
    upper[0x00E7] = 0x00C7;
    upper[0x00E8] = 0x00C8;
    upper[0x00E9] = 0x00C9;
    upper[0x00EA] = 0x00CA;
    upper[0x00EB] = 0x00CB;
    upper[0x00EC] = 0x00CC;
    upper[0x00ED] = 0x00CD;
    upper[0x00EE] = 0x00CE;
    upper[0x00EF] = 0x00CF;
    upper[0x00F0] = 0x00D0;
    upper[0x00F1] = 0x00D1;
    upper[0x00F2] = 0x00D2;
    upper[0x00F3] = 0x00D3;
    upper[0x00F4] = 0x00D4;
    upper[0x00F5] = 0x00D5;
    upper[0x00F6] = 0x00D6;
    upper[0x00F8] = 0x00D8;
    upper[0x00F9] = 0x00D9;
    upper[0x00FA] = 0x00DA;
    upper[0x00FB] = 0x00DB;
    upper[0x00FC] = 0x00DC;
    upper[0x00FD] = 0x00DD;
    upper[0x00FE] = 0x00DE;
    upper[0x00FF] = 0x0178;
    upper[0x0101] = 0x0100;
    upper[0x0103] = 0x0102;
    upper[0x0105] = 0x0104;
    upper[0x0107] = 0x0106;
    upper[0x0109] = 0x0108;
    upper[0x010B] = 0x010A;
    upper[0x010D] = 0x010C;
    upper[0x010F] = 0x010E;
    upper[0x0111] = 0x0110;
    upper[0x0113] = 0x0112;
    upper[0x0115] = 0x0114;
    upper[0x0117] = 0x0116;
    upper[0x0119] = 0x0118;
    upper[0x011B] = 0x011A;
    upper[0x011D] = 0x011C;
    upper[0x011F] = 0x011E;
    upper[0x0121] = 0x0120;
    upper[0x0123] = 0x0122;
    upper[0x0125] = 0x0124;
    upper[0x0127] = 0x0126;
    upper[0x0129] = 0x0128;
    upper[0x012B] = 0x012A;
    upper[0x012D] = 0x012C;
    upper[0x012F] = 0x012E;
    upper[0x0131] = 0x0049;
    upper[0x0133] = 0x0132;
    upper[0x0135] = 0x0134;
    upper[0x0137] = 0x0136;
    upper[0x013A] = 0x0139;
    upper[0x013C] = 0x013B;
    upper[0x013E] = 0x013D;
    upper[0x0140] = 0x013F;
    upper[0x0142] = 0x0141;
    upper[0x0144] = 0x0143;
    upper[0x0146] = 0x0145;
    upper[0x0148] = 0x0147;
    upper[0x014B] = 0x014A;
    upper[0x014D] = 0x014C;
    upper[0x014F] = 0x014E;
    upper[0x0151] = 0x0150;
    upper[0x0153] = 0x0152;
    upper[0x0155] = 0x0154;
    upper[0x0157] = 0x0156;
    upper[0x0159] = 0x0158;
    upper[0x015B] = 0x015A;
    upper[0x015D] = 0x015C;
    upper[0x015F] = 0x015E;
    upper[0x0161] = 0x0160;
    upper[0x0163] = 0x0162;
    upper[0x0165] = 0x0164;
    upper[0x0167] = 0x0166;
    upper[0x0169] = 0x0168;
    upper[0x016B] = 0x016A;
    upper[0x016D] = 0x016C;
    upper[0x016F] = 0x016E;
    upper[0x0171] = 0x0170;
    upper[0x0173] = 0x0172;
    upper[0x0175] = 0x0174;
    upper[0x0177] = 0x0176;
    upper[0x017A] = 0x0179;
    upper[0x017C] = 0x017B;
    upper[0x017E] = 0x017D;
    upper[0x017F] = 0x0053;
    upper[0x0180] = 0x0243;
    upper[0x0183] = 0x0182;
    upper[0x0185] = 0x0184;
    upper[0x0188] = 0x0187;
    upper[0x018C] = 0x018B;
    upper[0x0192] = 0x0191;
    upper[0x0195] = 0x01F6;
    upper[0x0199] = 0x0198;
    upper[0x019A] = 0x023D;
    upper[0x019E] = 0x0220;
    upper[0x01A1] = 0x01A0;
    upper[0x01A3] = 0x01A2;
    upper[0x01A5] = 0x01A4;
    upper[0x01A8] = 0x01A7;
    upper[0x01AD] = 0x01AC;
    upper[0x01B0] = 0x01AF;
    upper[0x01B4] = 0x01B3;
    upper[0x01B6] = 0x01B5;
    upper[0x01B9] = 0x01B8;
    upper[0x01BD] = 0x01BC;
    upper[0x01BF] = 0x01F7;
    upper[0x01C5] = 0x01C4;
    upper[0x01C6] = 0x01C4;
    upper[0x01C8] = 0x01C7;
    upper[0x01C9] = 0x01C7;
    upper[0x01CB] = 0x01CA;
    upper[0x01CC] = 0x01CA;
    upper[0x01CE] = 0x01CD;
    upper[0x01D0] = 0x01CF;
    upper[0x01D2] = 0x01D1;
    upper[0x01D4] = 0x01D3;
    upper[0x01D6] = 0x01D5;
    upper[0x01D8] = 0x01D7;
    upper[0x01DA] = 0x01D9;
    upper[0x01DC] = 0x01DB;
    upper[0x01DD] = 0x018E;
    upper[0x01DF] = 0x01DE;
    upper[0x01E1] = 0x01E0;
    upper[0x01E3] = 0x01E2;
    upper[0x01E5] = 0x01E4;
    upper[0x01E7] = 0x01E6;
    upper[0x01E9] = 0x01E8;
    upper[0x01EB] = 0x01EA;
    upper[0x01ED] = 0x01EC;
    upper[0x01EF] = 0x01EE;
    upper[0x01F2] = 0x01F1;
    upper[0x01F3] = 0x01F1;
    upper[0x01F5] = 0x01F4;
    upper[0x01F9] = 0x01F8;
    upper[0x01FB] = 0x01FA;
    upper[0x01FD] = 0x01FC;
    upper[0x01FF] = 0x01FE;
    upper[0x0201] = 0x0200;
    upper[0x0203] = 0x0202;
    upper[0x0205] = 0x0204;
    upper[0x0207] = 0x0206;
    upper[0x0209] = 0x0208;
    upper[0x020B] = 0x020A;
    upper[0x020D] = 0x020C;
    upper[0x020F] = 0x020E;
    upper[0x0211] = 0x0210;
    upper[0x0213] = 0x0212;
    upper[0x0215] = 0x0214;
    upper[0x0217] = 0x0216;
    upper[0x0219] = 0x0218;
    upper[0x021B] = 0x021A;
    upper[0x021D] = 0x021C;
    upper[0x021F] = 0x021E;
    upper[0x0223] = 0x0222;
    upper[0x0225] = 0x0224;
    upper[0x0227] = 0x0226;
    upper[0x0229] = 0x0228;
    upper[0x022B] = 0x022A;
    upper[0x022D] = 0x022C;
    upper[0x022F] = 0x022E;
    upper[0x0231] = 0x0230;
    upper[0x0233] = 0x0232;
    upper[0x023C] = 0x023B;
    upper[0x0242] = 0x0241;
    upper[0x0247] = 0x0246;
    upper[0x0249] = 0x0248;
    upper[0x024B] = 0x024A;
    upper[0x024D] = 0x024C;
    upper[0x024F] = 0x024E;
    upper[0x0253] = 0x0181;
    upper[0x0254] = 0x0186;
    upper[0x0256] = 0x0189;
    upper[0x0257] = 0x018A;
    upper[0x0259] = 0x018F;
    upper[0x025B] = 0x0190;
    upper[0x0260] = 0x0193;
    upper[0x0263] = 0x0194;
    upper[0x0268] = 0x0197;
    upper[0x0269] = 0x0196;
    upper[0x026B] = 0x2C62;
    upper[0x026F] = 0x019C;
    upper[0x0272] = 0x019D;
    upper[0x0275] = 0x019F;
    upper[0x027D] = 0x2C64;
    upper[0x0280] = 0x01A6;
    upper[0x0283] = 0x01A9;
    upper[0x0288] = 0x01AE;
    upper[0x0289] = 0x0244;
    upper[0x028A] = 0x01B1;
    upper[0x028B] = 0x01B2;
    upper[0x028C] = 0x0245;
    upper[0x0292] = 0x01B7;
    upper[0x0345] = 0x0399;
    upper[0x037B] = 0x03FD;
    upper[0x037C] = 0x03FE;
    upper[0x037D] = 0x03FF;
    upper[0x03AC] = 0x0386;
    upper[0x03AD] = 0x0388;
    upper[0x03AE] = 0x0389;
    upper[0x03AF] = 0x038A;
    upper[0x03B1] = 0x0391;
    upper[0x03B2] = 0x0392;
    upper[0x03B3] = 0x0393;
    upper[0x03B4] = 0x0394;
    upper[0x03B5] = 0x0395;
    upper[0x03B6] = 0x0396;
    upper[0x03B7] = 0x0397;
    upper[0x03B8] = 0x0398;
    upper[0x03B9] = 0x0399;
    upper[0x03BA] = 0x039A;
    upper[0x03BB] = 0x039B;
    upper[0x03BC] = 0x039C;
    upper[0x03BD] = 0x039D;
    upper[0x03BE] = 0x039E;
    upper[0x03BF] = 0x039F;
    upper[0x03C0] = 0x03A0;
    upper[0x03C1] = 0x03A1;
    upper[0x03C2] = 0x03A3;
    upper[0x03C3] = 0x03A3;
    upper[0x03C4] = 0x03A4;
    upper[0x03C5] = 0x03A5;
    upper[0x03C6] = 0x03A6;
    upper[0x03C7] = 0x03A7;
    upper[0x03C8] = 0x03A8;
    upper[0x03C9] = 0x03A9;
    upper[0x03CA] = 0x03AA;
    upper[0x03CB] = 0x03AB;
    upper[0x03CC] = 0x038C;
    upper[0x03CD] = 0x038E;
    upper[0x03CE] = 0x038F;
    upper[0x03D0] = 0x0392;
    upper[0x03D1] = 0x0398;
    upper[0x03D5] = 0x03A6;
    upper[0x03D6] = 0x03A0;
    upper[0x03D9] = 0x03D8;
    upper[0x03DB] = 0x03DA;
    upper[0x03DD] = 0x03DC;
    upper[0x03DF] = 0x03DE;
    upper[0x03E1] = 0x03E0;
    upper[0x03E3] = 0x03E2;
    upper[0x03E5] = 0x03E4;
    upper[0x03E7] = 0x03E6;
    upper[0x03E9] = 0x03E8;
    upper[0x03EB] = 0x03EA;
    upper[0x03ED] = 0x03EC;
    upper[0x03EF] = 0x03EE;
    upper[0x03F0] = 0x039A;
    upper[0x03F1] = 0x03A1;
    upper[0x03F2] = 0x03F9;
    upper[0x03F5] = 0x0395;
    upper[0x03F8] = 0x03F7;
    upper[0x03FB] = 0x03FA;
    upper[0x0430] = 0x0410;
    upper[0x0431] = 0x0411;
    upper[0x0432] = 0x0412;
    upper[0x0433] = 0x0413;
    upper[0x0434] = 0x0414;
    upper[0x0435] = 0x0415;
    upper[0x0436] = 0x0416;
    upper[0x0437] = 0x0417;
    upper[0x0438] = 0x0418;
    upper[0x0439] = 0x0419;
    upper[0x043A] = 0x041A;
    upper[0x043B] = 0x041B;
    upper[0x043C] = 0x041C;
    upper[0x043D] = 0x041D;
    upper[0x043E] = 0x041E;
    upper[0x043F] = 0x041F;
    upper[0x0440] = 0x0420;
    upper[0x0441] = 0x0421;
    upper[0x0442] = 0x0422;
    upper[0x0443] = 0x0423;
    upper[0x0444] = 0x0424;
    upper[0x0445] = 0x0425;
    upper[0x0446] = 0x0426;
    upper[0x0447] = 0x0427;
    upper[0x0448] = 0x0428;
    upper[0x0449] = 0x0429;
    upper[0x044A] = 0x042A;
    upper[0x044B] = 0x042B;
    upper[0x044C] = 0x042C;
    upper[0x044D] = 0x042D;
    upper[0x044E] = 0x042E;
    upper[0x044F] = 0x042F;
    upper[0x0450] = 0x0400;
    upper[0x0451] = 0x0401;
    upper[0x0452] = 0x0402;
    upper[0x0453] = 0x0403;
    upper[0x0454] = 0x0404;
    upper[0x0455] = 0x0405;
    upper[0x0456] = 0x0406;
    upper[0x0457] = 0x0407;
    upper[0x0458] = 0x0408;
    upper[0x0459] = 0x0409;
    upper[0x045A] = 0x040A;
    upper[0x045B] = 0x040B;
    upper[0x045C] = 0x040C;
    upper[0x045D] = 0x040D;
    upper[0x045E] = 0x040E;
    upper[0x045F] = 0x040F;
    upper[0x0461] = 0x0460;
    upper[0x0463] = 0x0462;
    upper[0x0465] = 0x0464;
    upper[0x0467] = 0x0466;
    upper[0x0469] = 0x0468;
    upper[0x046B] = 0x046A;
    upper[0x046D] = 0x046C;
    upper[0x046F] = 0x046E;
    upper[0x0471] = 0x0470;
    upper[0x0473] = 0x0472;
    upper[0x0475] = 0x0474;
    upper[0x0477] = 0x0476;
    upper[0x0479] = 0x0478;
    upper[0x047B] = 0x047A;
    upper[0x047D] = 0x047C;
    upper[0x047F] = 0x047E;
    upper[0x0481] = 0x0480;
    upper[0x048B] = 0x048A;
    upper[0x048D] = 0x048C;
    upper[0x048F] = 0x048E;
    upper[0x0491] = 0x0490;
    upper[0x0493] = 0x0492;
    upper[0x0495] = 0x0494;
    upper[0x0497] = 0x0496;
    upper[0x0499] = 0x0498;
    upper[0x049B] = 0x049A;
    upper[0x049D] = 0x049C;
    upper[0x049F] = 0x049E;
    upper[0x04A1] = 0x04A0;
    upper[0x04A3] = 0x04A2;
    upper[0x04A5] = 0x04A4;
    upper[0x04A7] = 0x04A6;
    upper[0x04A9] = 0x04A8;
    upper[0x04AB] = 0x04AA;
    upper[0x04AD] = 0x04AC;
    upper[0x04AF] = 0x04AE;
    upper[0x04B1] = 0x04B0;
    upper[0x04B3] = 0x04B2;
    upper[0x04B5] = 0x04B4;
    upper[0x04B7] = 0x04B6;
    upper[0x04B9] = 0x04B8;
    upper[0x04BB] = 0x04BA;
    upper[0x04BD] = 0x04BC;
    upper[0x04BF] = 0x04BE;
    upper[0x04C2] = 0x04C1;
    upper[0x04C4] = 0x04C3;
    upper[0x04C6] = 0x04C5;
    upper[0x04C8] = 0x04C7;
    upper[0x04CA] = 0x04C9;
    upper[0x04CC] = 0x04CB;
    upper[0x04CE] = 0x04CD;
    upper[0x04CF] = 0x04C0;
    upper[0x04D1] = 0x04D0;
    upper[0x04D3] = 0x04D2;
    upper[0x04D5] = 0x04D4;
    upper[0x04D7] = 0x04D6;
    upper[0x04D9] = 0x04D8;
    upper[0x04DB] = 0x04DA;
    upper[0x04DD] = 0x04DC;
    upper[0x04DF] = 0x04DE;
    upper[0x04E1] = 0x04E0;
    upper[0x04E3] = 0x04E2;
    upper[0x04E5] = 0x04E4;
    upper[0x04E7] = 0x04E6;
    upper[0x04E9] = 0x04E8;
    upper[0x04EB] = 0x04EA;
    upper[0x04ED] = 0x04EC;
    upper[0x04EF] = 0x04EE;
    upper[0x04F1] = 0x04F0;
    upper[0x04F3] = 0x04F2;
    upper[0x04F5] = 0x04F4;
    upper[0x04F7] = 0x04F6;
    upper[0x04F9] = 0x04F8;
    upper[0x04FB] = 0x04FA;
    upper[0x04FD] = 0x04FC;
    upper[0x04FF] = 0x04FE;
    upper[0x0501] = 0x0500;
    upper[0x0503] = 0x0502;
    upper[0x0505] = 0x0504;
    upper[0x0507] = 0x0506;
    upper[0x0509] = 0x0508;
    upper[0x050B] = 0x050A;
    upper[0x050D] = 0x050C;
    upper[0x050F] = 0x050E;
    upper[0x0511] = 0x0510;
    upper[0x0513] = 0x0512;
    upper[0x0561] = 0x0531;
    upper[0x0562] = 0x0532;
    upper[0x0563] = 0x0533;
    upper[0x0564] = 0x0534;
    upper[0x0565] = 0x0535;
    upper[0x0566] = 0x0536;
    upper[0x0567] = 0x0537;
    upper[0x0568] = 0x0538;
    upper[0x0569] = 0x0539;
    upper[0x056A] = 0x053A;
    upper[0x056B] = 0x053B;
    upper[0x056C] = 0x053C;
    upper[0x056D] = 0x053D;
    upper[0x056E] = 0x053E;
    upper[0x056F] = 0x053F;
    upper[0x0570] = 0x0540;
    upper[0x0571] = 0x0541;
    upper[0x0572] = 0x0542;
    upper[0x0573] = 0x0543;
    upper[0x0574] = 0x0544;
    upper[0x0575] = 0x0545;
    upper[0x0576] = 0x0546;
    upper[0x0577] = 0x0547;
    upper[0x0578] = 0x0548;
    upper[0x0579] = 0x0549;
    upper[0x057A] = 0x054A;
    upper[0x057B] = 0x054B;
    upper[0x057C] = 0x054C;
    upper[0x057D] = 0x054D;
    upper[0x057E] = 0x054E;
    upper[0x057F] = 0x054F;
    upper[0x0580] = 0x0550;
    upper[0x0581] = 0x0551;
    upper[0x0582] = 0x0552;
    upper[0x0583] = 0x0553;
    upper[0x0584] = 0x0554;
    upper[0x0585] = 0x0555;
    upper[0x0586] = 0x0556;
    upper[0x1D7D] = 0x2C63;
    upper[0x1E01] = 0x1E00;
    upper[0x1E03] = 0x1E02;
    upper[0x1E05] = 0x1E04;
    upper[0x1E07] = 0x1E06;
    upper[0x1E09] = 0x1E08;
    upper[0x1E0B] = 0x1E0A;
    upper[0x1E0D] = 0x1E0C;
    upper[0x1E0F] = 0x1E0E;
    upper[0x1E11] = 0x1E10;
    upper[0x1E13] = 0x1E12;
    upper[0x1E15] = 0x1E14;
    upper[0x1E17] = 0x1E16;
    upper[0x1E19] = 0x1E18;
    upper[0x1E1B] = 0x1E1A;
    upper[0x1E1D] = 0x1E1C;
    upper[0x1E1F] = 0x1E1E;
    upper[0x1E21] = 0x1E20;
    upper[0x1E23] = 0x1E22;
    upper[0x1E25] = 0x1E24;
    upper[0x1E27] = 0x1E26;
    upper[0x1E29] = 0x1E28;
    upper[0x1E2B] = 0x1E2A;
    upper[0x1E2D] = 0x1E2C;
    upper[0x1E2F] = 0x1E2E;
    upper[0x1E31] = 0x1E30;
    upper[0x1E33] = 0x1E32;
    upper[0x1E35] = 0x1E34;
    upper[0x1E37] = 0x1E36;
    upper[0x1E39] = 0x1E38;
    upper[0x1E3B] = 0x1E3A;
    upper[0x1E3D] = 0x1E3C;
    upper[0x1E3F] = 0x1E3E;
    upper[0x1E41] = 0x1E40;
    upper[0x1E43] = 0x1E42;
    upper[0x1E45] = 0x1E44;
    upper[0x1E47] = 0x1E46;
    upper[0x1E49] = 0x1E48;
    upper[0x1E4B] = 0x1E4A;
    upper[0x1E4D] = 0x1E4C;
    upper[0x1E4F] = 0x1E4E;
    upper[0x1E51] = 0x1E50;
    upper[0x1E53] = 0x1E52;
    upper[0x1E55] = 0x1E54;
    upper[0x1E57] = 0x1E56;
    upper[0x1E59] = 0x1E58;
    upper[0x1E5B] = 0x1E5A;
    upper[0x1E5D] = 0x1E5C;
    upper[0x1E5F] = 0x1E5E;
    upper[0x1E61] = 0x1E60;
    upper[0x1E63] = 0x1E62;
    upper[0x1E65] = 0x1E64;
    upper[0x1E67] = 0x1E66;
    upper[0x1E69] = 0x1E68;
    upper[0x1E6B] = 0x1E6A;
    upper[0x1E6D] = 0x1E6C;
    upper[0x1E6F] = 0x1E6E;
    upper[0x1E71] = 0x1E70;
    upper[0x1E73] = 0x1E72;
    upper[0x1E75] = 0x1E74;
    upper[0x1E77] = 0x1E76;
    upper[0x1E79] = 0x1E78;
    upper[0x1E7B] = 0x1E7A;
    upper[0x1E7D] = 0x1E7C;
    upper[0x1E7F] = 0x1E7E;
    upper[0x1E81] = 0x1E80;
    upper[0x1E83] = 0x1E82;
    upper[0x1E85] = 0x1E84;
    upper[0x1E87] = 0x1E86;
    upper[0x1E89] = 0x1E88;
    upper[0x1E8B] = 0x1E8A;
    upper[0x1E8D] = 0x1E8C;
    upper[0x1E8F] = 0x1E8E;
    upper[0x1E91] = 0x1E90;
    upper[0x1E93] = 0x1E92;
    upper[0x1E95] = 0x1E94;
    upper[0x1E9B] = 0x1E60;
    upper[0x1EA1] = 0x1EA0;
    upper[0x1EA3] = 0x1EA2;
    upper[0x1EA5] = 0x1EA4;
    upper[0x1EA7] = 0x1EA6;
    upper[0x1EA9] = 0x1EA8;
    upper[0x1EAB] = 0x1EAA;
    upper[0x1EAD] = 0x1EAC;
    upper[0x1EAF] = 0x1EAE;
    upper[0x1EB1] = 0x1EB0;
    upper[0x1EB3] = 0x1EB2;
    upper[0x1EB5] = 0x1EB4;
    upper[0x1EB7] = 0x1EB6;
    upper[0x1EB9] = 0x1EB8;
    upper[0x1EBB] = 0x1EBA;
    upper[0x1EBD] = 0x1EBC;
    upper[0x1EBF] = 0x1EBE;
    upper[0x1EC1] = 0x1EC0;
    upper[0x1EC3] = 0x1EC2;
    upper[0x1EC5] = 0x1EC4;
    upper[0x1EC7] = 0x1EC6;
    upper[0x1EC9] = 0x1EC8;
    upper[0x1ECB] = 0x1ECA;
    upper[0x1ECD] = 0x1ECC;
    upper[0x1ECF] = 0x1ECE;
    upper[0x1ED1] = 0x1ED0;
    upper[0x1ED3] = 0x1ED2;
    upper[0x1ED5] = 0x1ED4;
    upper[0x1ED7] = 0x1ED6;
    upper[0x1ED9] = 0x1ED8;
    upper[0x1EDB] = 0x1EDA;
    upper[0x1EDD] = 0x1EDC;
    upper[0x1EDF] = 0x1EDE;
    upper[0x1EE1] = 0x1EE0;
    upper[0x1EE3] = 0x1EE2;
    upper[0x1EE5] = 0x1EE4;
    upper[0x1EE7] = 0x1EE6;
    upper[0x1EE9] = 0x1EE8;
    upper[0x1EEB] = 0x1EEA;
    upper[0x1EED] = 0x1EEC;
    upper[0x1EEF] = 0x1EEE;
    upper[0x1EF1] = 0x1EF0;
    upper[0x1EF3] = 0x1EF2;
    upper[0x1EF5] = 0x1EF4;
    upper[0x1EF7] = 0x1EF6;
    upper[0x1EF9] = 0x1EF8;
    upper[0x1F00] = 0x1F08;
    upper[0x1F01] = 0x1F09;
    upper[0x1F02] = 0x1F0A;
    upper[0x1F03] = 0x1F0B;
    upper[0x1F04] = 0x1F0C;
    upper[0x1F05] = 0x1F0D;
    upper[0x1F06] = 0x1F0E;
    upper[0x1F07] = 0x1F0F;
    upper[0x1F10] = 0x1F18;
    upper[0x1F11] = 0x1F19;
    upper[0x1F12] = 0x1F1A;
    upper[0x1F13] = 0x1F1B;
    upper[0x1F14] = 0x1F1C;
    upper[0x1F15] = 0x1F1D;
    upper[0x1F20] = 0x1F28;
    upper[0x1F21] = 0x1F29;
    upper[0x1F22] = 0x1F2A;
    upper[0x1F23] = 0x1F2B;
    upper[0x1F24] = 0x1F2C;
    upper[0x1F25] = 0x1F2D;
    upper[0x1F26] = 0x1F2E;
    upper[0x1F27] = 0x1F2F;
    upper[0x1F30] = 0x1F38;
    upper[0x1F31] = 0x1F39;
    upper[0x1F32] = 0x1F3A;
    upper[0x1F33] = 0x1F3B;
    upper[0x1F34] = 0x1F3C;
    upper[0x1F35] = 0x1F3D;
    upper[0x1F36] = 0x1F3E;
    upper[0x1F37] = 0x1F3F;
    upper[0x1F40] = 0x1F48;
    upper[0x1F41] = 0x1F49;
    upper[0x1F42] = 0x1F4A;
    upper[0x1F43] = 0x1F4B;
    upper[0x1F44] = 0x1F4C;
    upper[0x1F45] = 0x1F4D;
    upper[0x1F51] = 0x1F59;
    upper[0x1F53] = 0x1F5B;
    upper[0x1F55] = 0x1F5D;
    upper[0x1F57] = 0x1F5F;
    upper[0x1F60] = 0x1F68;
    upper[0x1F61] = 0x1F69;
    upper[0x1F62] = 0x1F6A;
    upper[0x1F63] = 0x1F6B;
    upper[0x1F64] = 0x1F6C;
    upper[0x1F65] = 0x1F6D;
    upper[0x1F66] = 0x1F6E;
    upper[0x1F67] = 0x1F6F;
    upper[0x1F70] = 0x1FBA;
    upper[0x1F71] = 0x1FBB;
    upper[0x1F72] = 0x1FC8;
    upper[0x1F73] = 0x1FC9;
    upper[0x1F74] = 0x1FCA;
    upper[0x1F75] = 0x1FCB;
    upper[0x1F76] = 0x1FDA;
    upper[0x1F77] = 0x1FDB;
    upper[0x1F78] = 0x1FF8;
    upper[0x1F79] = 0x1FF9;
    upper[0x1F7A] = 0x1FEA;
    upper[0x1F7B] = 0x1FEB;
    upper[0x1F7C] = 0x1FFA;
    upper[0x1F7D] = 0x1FFB;
    upper[0x1F80] = 0x1F88;
    upper[0x1F81] = 0x1F89;
    upper[0x1F82] = 0x1F8A;
    upper[0x1F83] = 0x1F8B;
    upper[0x1F84] = 0x1F8C;
    upper[0x1F85] = 0x1F8D;
    upper[0x1F86] = 0x1F8E;
    upper[0x1F87] = 0x1F8F;
    upper[0x1F90] = 0x1F98;
    upper[0x1F91] = 0x1F99;
    upper[0x1F92] = 0x1F9A;
    upper[0x1F93] = 0x1F9B;
    upper[0x1F94] = 0x1F9C;
    upper[0x1F95] = 0x1F9D;
    upper[0x1F96] = 0x1F9E;
    upper[0x1F97] = 0x1F9F;
    upper[0x1FA0] = 0x1FA8;
    upper[0x1FA1] = 0x1FA9;
    upper[0x1FA2] = 0x1FAA;
    upper[0x1FA3] = 0x1FAB;
    upper[0x1FA4] = 0x1FAC;
    upper[0x1FA5] = 0x1FAD;
    upper[0x1FA6] = 0x1FAE;
    upper[0x1FA7] = 0x1FAF;
    upper[0x1FB0] = 0x1FB8;
    upper[0x1FB1] = 0x1FB9;
    upper[0x1FB3] = 0x1FBC;
    upper[0x1FBE] = 0x0399;
    upper[0x1FC3] = 0x1FCC;
    upper[0x1FD0] = 0x1FD8;
    upper[0x1FD1] = 0x1FD9;
    upper[0x1FE0] = 0x1FE8;
    upper[0x1FE1] = 0x1FE9;
    upper[0x1FE5] = 0x1FEC;
    upper[0x1FF3] = 0x1FFC;
    upper[0x214E] = 0x2132;
    upper[0x2170] = 0x2160;
    upper[0x2171] = 0x2161;
    upper[0x2172] = 0x2162;
    upper[0x2173] = 0x2163;
    upper[0x2174] = 0x2164;
    upper[0x2175] = 0x2165;
    upper[0x2176] = 0x2166;
    upper[0x2177] = 0x2167;
    upper[0x2178] = 0x2168;
    upper[0x2179] = 0x2169;
    upper[0x217A] = 0x216A;
    upper[0x217B] = 0x216B;
    upper[0x217C] = 0x216C;
    upper[0x217D] = 0x216D;
    upper[0x217E] = 0x216E;
    upper[0x217F] = 0x216F;
    upper[0x2184] = 0x2183;
    upper[0x24D0] = 0x24B6;
    upper[0x24D1] = 0x24B7;
    upper[0x24D2] = 0x24B8;
    upper[0x24D3] = 0x24B9;
    upper[0x24D4] = 0x24BA;
    upper[0x24D5] = 0x24BB;
    upper[0x24D6] = 0x24BC;
    upper[0x24D7] = 0x24BD;
    upper[0x24D8] = 0x24BE;
    upper[0x24D9] = 0x24BF;
    upper[0x24DA] = 0x24C0;
    upper[0x24DB] = 0x24C1;
    upper[0x24DC] = 0x24C2;
    upper[0x24DD] = 0x24C3;
    upper[0x24DE] = 0x24C4;
    upper[0x24DF] = 0x24C5;
    upper[0x24E0] = 0x24C6;
    upper[0x24E1] = 0x24C7;
    upper[0x24E2] = 0x24C8;
    upper[0x24E3] = 0x24C9;
    upper[0x24E4] = 0x24CA;
    upper[0x24E5] = 0x24CB;
    upper[0x24E6] = 0x24CC;
    upper[0x24E7] = 0x24CD;
    upper[0x24E8] = 0x24CE;
    upper[0x24E9] = 0x24CF;
    upper[0x2C30] = 0x2C00;
    upper[0x2C31] = 0x2C01;
    upper[0x2C32] = 0x2C02;
    upper[0x2C33] = 0x2C03;
    upper[0x2C34] = 0x2C04;
    upper[0x2C35] = 0x2C05;
    upper[0x2C36] = 0x2C06;
    upper[0x2C37] = 0x2C07;
    upper[0x2C38] = 0x2C08;
    upper[0x2C39] = 0x2C09;
    upper[0x2C3A] = 0x2C0A;
    upper[0x2C3B] = 0x2C0B;
    upper[0x2C3C] = 0x2C0C;
    upper[0x2C3D] = 0x2C0D;
    upper[0x2C3E] = 0x2C0E;
    upper[0x2C3F] = 0x2C0F;
    upper[0x2C40] = 0x2C10;
    upper[0x2C41] = 0x2C11;
    upper[0x2C42] = 0x2C12;
    upper[0x2C43] = 0x2C13;
    upper[0x2C44] = 0x2C14;
    upper[0x2C45] = 0x2C15;
    upper[0x2C46] = 0x2C16;
    upper[0x2C47] = 0x2C17;
    upper[0x2C48] = 0x2C18;
    upper[0x2C49] = 0x2C19;
    upper[0x2C4A] = 0x2C1A;
    upper[0x2C4B] = 0x2C1B;
    upper[0x2C4C] = 0x2C1C;
    upper[0x2C4D] = 0x2C1D;
    upper[0x2C4E] = 0x2C1E;
    upper[0x2C4F] = 0x2C1F;
    upper[0x2C50] = 0x2C20;
    upper[0x2C51] = 0x2C21;
    upper[0x2C52] = 0x2C22;
    upper[0x2C53] = 0x2C23;
    upper[0x2C54] = 0x2C24;
    upper[0x2C55] = 0x2C25;
    upper[0x2C56] = 0x2C26;
    upper[0x2C57] = 0x2C27;
    upper[0x2C58] = 0x2C28;
    upper[0x2C59] = 0x2C29;
    upper[0x2C5A] = 0x2C2A;
    upper[0x2C5B] = 0x2C2B;
    upper[0x2C5C] = 0x2C2C;
    upper[0x2C5D] = 0x2C2D;
    upper[0x2C5E] = 0x2C2E;
    upper[0x2C61] = 0x2C60;
    upper[0x2C65] = 0x023A;
    upper[0x2C66] = 0x023E;
    upper[0x2C68] = 0x2C67;
    upper[0x2C6A] = 0x2C69;
    upper[0x2C6C] = 0x2C6B;
    upper[0x2C76] = 0x2C75;
    upper[0x2C81] = 0x2C80;
    upper[0x2C83] = 0x2C82;
    upper[0x2C85] = 0x2C84;
    upper[0x2C87] = 0x2C86;
    upper[0x2C89] = 0x2C88;
    upper[0x2C8B] = 0x2C8A;
    upper[0x2C8D] = 0x2C8C;
    upper[0x2C8F] = 0x2C8E;
    upper[0x2C91] = 0x2C90;
    upper[0x2C93] = 0x2C92;
    upper[0x2C95] = 0x2C94;
    upper[0x2C97] = 0x2C96;
    upper[0x2C99] = 0x2C98;
    upper[0x2C9B] = 0x2C9A;
    upper[0x2C9D] = 0x2C9C;
    upper[0x2C9F] = 0x2C9E;
    upper[0x2CA1] = 0x2CA0;
    upper[0x2CA3] = 0x2CA2;
    upper[0x2CA5] = 0x2CA4;
    upper[0x2CA7] = 0x2CA6;
    upper[0x2CA9] = 0x2CA8;
    upper[0x2CAB] = 0x2CAA;
    upper[0x2CAD] = 0x2CAC;
    upper[0x2CAF] = 0x2CAE;
    upper[0x2CB1] = 0x2CB0;
    upper[0x2CB3] = 0x2CB2;
    upper[0x2CB5] = 0x2CB4;
    upper[0x2CB7] = 0x2CB6;
    upper[0x2CB9] = 0x2CB8;
    upper[0x2CBB] = 0x2CBA;
    upper[0x2CBD] = 0x2CBC;
    upper[0x2CBF] = 0x2CBE;
    upper[0x2CC1] = 0x2CC0;
    upper[0x2CC3] = 0x2CC2;
    upper[0x2CC5] = 0x2CC4;
    upper[0x2CC7] = 0x2CC6;
    upper[0x2CC9] = 0x2CC8;
    upper[0x2CCB] = 0x2CCA;
    upper[0x2CCD] = 0x2CCC;
    upper[0x2CCF] = 0x2CCE;
    upper[0x2CD1] = 0x2CD0;
    upper[0x2CD3] = 0x2CD2;
    upper[0x2CD5] = 0x2CD4;
    upper[0x2CD7] = 0x2CD6;
    upper[0x2CD9] = 0x2CD8;
    upper[0x2CDB] = 0x2CDA;
    upper[0x2CDD] = 0x2CDC;
    upper[0x2CDF] = 0x2CDE;
    upper[0x2CE1] = 0x2CE0;
    upper[0x2CE3] = 0x2CE2;
    upper[0x2D00] = 0x10A0;
    upper[0x2D01] = 0x10A1;
    upper[0x2D02] = 0x10A2;
    upper[0x2D03] = 0x10A3;
    upper[0x2D04] = 0x10A4;
    upper[0x2D05] = 0x10A5;
    upper[0x2D06] = 0x10A6;
    upper[0x2D07] = 0x10A7;
    upper[0x2D08] = 0x10A8;
    upper[0x2D09] = 0x10A9;
    upper[0x2D0A] = 0x10AA;
    upper[0x2D0B] = 0x10AB;
    upper[0x2D0C] = 0x10AC;
    upper[0x2D0D] = 0x10AD;
    upper[0x2D0E] = 0x10AE;
    upper[0x2D0F] = 0x10AF;
    upper[0x2D10] = 0x10B0;
    upper[0x2D11] = 0x10B1;
    upper[0x2D12] = 0x10B2;
    upper[0x2D13] = 0x10B3;
    upper[0x2D14] = 0x10B4;
    upper[0x2D15] = 0x10B5;
    upper[0x2D16] = 0x10B6;
    upper[0x2D17] = 0x10B7;
    upper[0x2D18] = 0x10B8;
    upper[0x2D19] = 0x10B9;
    upper[0x2D1A] = 0x10BA;
    upper[0x2D1B] = 0x10BB;
    upper[0x2D1C] = 0x10BC;
    upper[0x2D1D] = 0x10BD;
    upper[0x2D1E] = 0x10BE;
    upper[0x2D1F] = 0x10BF;
    upper[0x2D20] = 0x10C0;
    upper[0x2D21] = 0x10C1;
    upper[0x2D22] = 0x10C2;
    upper[0x2D23] = 0x10C3;
    upper[0x2D24] = 0x10C4;
    upper[0x2D25] = 0x10C5;
    upper[0xFF41] = 0xFF21;
    upper[0xFF42] = 0xFF22;
    upper[0xFF43] = 0xFF23;
    upper[0xFF44] = 0xFF24;
    upper[0xFF45] = 0xFF25;
    upper[0xFF46] = 0xFF26;
    upper[0xFF47] = 0xFF27;
    upper[0xFF48] = 0xFF28;
    upper[0xFF49] = 0xFF29;
    upper[0xFF4A] = 0xFF2A;
    upper[0xFF4B] = 0xFF2B;
    upper[0xFF4C] = 0xFF2C;
    upper[0xFF4D] = 0xFF2D;
    upper[0xFF4E] = 0xFF2E;
    upper[0xFF4F] = 0xFF2F;
    upper[0xFF50] = 0xFF30;
    upper[0xFF51] = 0xFF31;
    upper[0xFF52] = 0xFF32;
    upper[0xFF53] = 0xFF33;
    upper[0xFF54] = 0xFF34;
    upper[0xFF55] = 0xFF35;
    upper[0xFF56] = 0xFF36;
    upper[0xFF57] = 0xFF37;
    upper[0xFF58] = 0xFF38;
    upper[0xFF59] = 0xFF39;
    upper[0xFF5A] = 0xFF3A;
    upper[0x10428] = 0x10400;
    upper[0x10429] = 0x10401;
    upper[0x1042A] = 0x10402;
    upper[0x1042B] = 0x10403;
    upper[0x1042C] = 0x10404;
    upper[0x1042D] = 0x10405;
    upper[0x1042E] = 0x10406;
    upper[0x1042F] = 0x10407;
    upper[0x10430] = 0x10408;
    upper[0x10431] = 0x10409;
    upper[0x10432] = 0x1040A;
    upper[0x10433] = 0x1040B;
    upper[0x10434] = 0x1040C;
    upper[0x10435] = 0x1040D;
    upper[0x10436] = 0x1040E;
    upper[0x10437] = 0x1040F;
    upper[0x10438] = 0x10410;
    upper[0x10439] = 0x10411;
    upper[0x1043A] = 0x10412;
    upper[0x1043B] = 0x10413;
    upper[0x1043C] = 0x10414;
    upper[0x1043D] = 0x10415;
    upper[0x1043E] = 0x10416;
    upper[0x1043F] = 0x10417;
    upper[0x10440] = 0x10418;
    upper[0x10441] = 0x10419;
    upper[0x10442] = 0x1041A;
    upper[0x10443] = 0x1041B;
    upper[0x10444] = 0x1041C;
    upper[0x10445] = 0x1041D;
    upper[0x10446] = 0x1041E;
    upper[0x10447] = 0x1041F;
    upper[0x10448] = 0x10420;
    upper[0x10449] = 0x10421;
    upper[0x1044A] = 0x10422;
    upper[0x1044B] = 0x10423;
    upper[0x1044C] = 0x10424;
    upper[0x1044D] = 0x10425;
    upper[0x1044E] = 0x10426;
    upper[0x1044F] = 0x10427;


    lower[0x0041] = 0x0061;
    lower[0x0042] = 0x0062;
    lower[0x0043] = 0x0063;
    lower[0x0044] = 0x0064;
    lower[0x0045] = 0x0065;
    lower[0x0046] = 0x0066;
    lower[0x0047] = 0x0067;
    lower[0x0048] = 0x0068;
    lower[0x0049] = 0x0069;
    lower[0x004A] = 0x006A;
    lower[0x004B] = 0x006B;
    lower[0x004C] = 0x006C;
    lower[0x004D] = 0x006D;
    lower[0x004E] = 0x006E;
    lower[0x004F] = 0x006F;
    lower[0x0050] = 0x0070;
    lower[0x0051] = 0x0071;
    lower[0x0052] = 0x0072;
    lower[0x0053] = 0x0073;
    lower[0x0054] = 0x0074;
    lower[0x0055] = 0x0075;
    lower[0x0056] = 0x0076;
    lower[0x0057] = 0x0077;
    lower[0x0058] = 0x0078;
    lower[0x0059] = 0x0079;
    lower[0x005A] = 0x007A;
    lower[0x00C0] = 0x00E0;
    lower[0x00C1] = 0x00E1;
    lower[0x00C2] = 0x00E2;
    lower[0x00C3] = 0x00E3;
    lower[0x00C4] = 0x00E4;
    lower[0x00C5] = 0x00E5;
    lower[0x00C6] = 0x00E6;
    lower[0x00C7] = 0x00E7;
    lower[0x00C8] = 0x00E8;
    lower[0x00C9] = 0x00E9;
    lower[0x00CA] = 0x00EA;
    lower[0x00CB] = 0x00EB;
    lower[0x00CC] = 0x00EC;
    lower[0x00CD] = 0x00ED;
    lower[0x00CE] = 0x00EE;
    lower[0x00CF] = 0x00EF;
    lower[0x00D0] = 0x00F0;
    lower[0x00D1] = 0x00F1;
    lower[0x00D2] = 0x00F2;
    lower[0x00D3] = 0x00F3;
    lower[0x00D4] = 0x00F4;
    lower[0x00D5] = 0x00F5;
    lower[0x00D6] = 0x00F6;
    lower[0x00D8] = 0x00F8;
    lower[0x00D9] = 0x00F9;
    lower[0x00DA] = 0x00FA;
    lower[0x00DB] = 0x00FB;
    lower[0x00DC] = 0x00FC;
    lower[0x00DD] = 0x00FD;
    lower[0x00DE] = 0x00FE;
    lower[0x0100] = 0x0101;
    lower[0x0102] = 0x0103;
    lower[0x0104] = 0x0105;
    lower[0x0106] = 0x0107;
    lower[0x0108] = 0x0109;
    lower[0x010A] = 0x010B;
    lower[0x010C] = 0x010D;
    lower[0x010E] = 0x010F;
    lower[0x0110] = 0x0111;
    lower[0x0112] = 0x0113;
    lower[0x0114] = 0x0115;
    lower[0x0116] = 0x0117;
    lower[0x0118] = 0x0119;
    lower[0x011A] = 0x011B;
    lower[0x011C] = 0x011D;
    lower[0x011E] = 0x011F;
    lower[0x0120] = 0x0121;
    lower[0x0122] = 0x0123;
    lower[0x0124] = 0x0125;
    lower[0x0126] = 0x0127;
    lower[0x0128] = 0x0129;
    lower[0x012A] = 0x012B;
    lower[0x012C] = 0x012D;
    lower[0x012E] = 0x012F;
    lower[0x0130] = 0x0069;
    lower[0x0132] = 0x0133;
    lower[0x0134] = 0x0135;
    lower[0x0136] = 0x0137;
    lower[0x0139] = 0x013A;
    lower[0x013B] = 0x013C;
    lower[0x013D] = 0x013E;
    lower[0x013F] = 0x0140;
    lower[0x0141] = 0x0142;
    lower[0x0143] = 0x0144;
    lower[0x0145] = 0x0146;
    lower[0x0147] = 0x0148;
    lower[0x014A] = 0x014B;
    lower[0x014C] = 0x014D;
    lower[0x014E] = 0x014F;
    lower[0x0150] = 0x0151;
    lower[0x0152] = 0x0153;
    lower[0x0154] = 0x0155;
    lower[0x0156] = 0x0157;
    lower[0x0158] = 0x0159;
    lower[0x015A] = 0x015B;
    lower[0x015C] = 0x015D;
    lower[0x015E] = 0x015F;
    lower[0x0160] = 0x0161;
    lower[0x0162] = 0x0163;
    lower[0x0164] = 0x0165;
    lower[0x0166] = 0x0167;
    lower[0x0168] = 0x0169;
    lower[0x016A] = 0x016B;
    lower[0x016C] = 0x016D;
    lower[0x016E] = 0x016F;
    lower[0x0170] = 0x0171;
    lower[0x0172] = 0x0173;
    lower[0x0174] = 0x0175;
    lower[0x0176] = 0x0177;
    lower[0x0178] = 0x00FF;
    lower[0x0179] = 0x017A;
    lower[0x017B] = 0x017C;
    lower[0x017D] = 0x017E;
    lower[0x0181] = 0x0253;
    lower[0x0182] = 0x0183;
    lower[0x0184] = 0x0185;
    lower[0x0186] = 0x0254;
    lower[0x0187] = 0x0188;
    lower[0x0189] = 0x0256;
    lower[0x018A] = 0x0257;
    lower[0x018B] = 0x018C;
    lower[0x018E] = 0x01DD;
    lower[0x018F] = 0x0259;
    lower[0x0190] = 0x025B;
    lower[0x0191] = 0x0192;
    lower[0x0193] = 0x0260;
    lower[0x0194] = 0x0263;
    lower[0x0196] = 0x0269;
    lower[0x0197] = 0x0268;
    lower[0x0198] = 0x0199;
    lower[0x019C] = 0x026F;
    lower[0x019D] = 0x0272;
    lower[0x019F] = 0x0275;
    lower[0x01A0] = 0x01A1;
    lower[0x01A2] = 0x01A3;
    lower[0x01A4] = 0x01A5;
    lower[0x01A6] = 0x0280;
    lower[0x01A7] = 0x01A8;
    lower[0x01A9] = 0x0283;
    lower[0x01AC] = 0x01AD;
    lower[0x01AE] = 0x0288;
    lower[0x01AF] = 0x01B0;
    lower[0x01B1] = 0x028A;
    lower[0x01B2] = 0x028B;
    lower[0x01B3] = 0x01B4;
    lower[0x01B5] = 0x01B6;
    lower[0x01B7] = 0x0292;
    lower[0x01B8] = 0x01B9;
    lower[0x01BC] = 0x01BD;
    lower[0x01C4] = 0x01C6;
    lower[0x01C7] = 0x01C9;
    lower[0x01CA] = 0x01CC;
    lower[0x01CD] = 0x01CE;
    lower[0x01CF] = 0x01D0;
    lower[0x01D1] = 0x01D2;
    lower[0x01D3] = 0x01D4;
    lower[0x01D5] = 0x01D6;
    lower[0x01D7] = 0x01D8;
    lower[0x01D9] = 0x01DA;
    lower[0x01DB] = 0x01DC;
    lower[0x01DE] = 0x01DF;
    lower[0x01E0] = 0x01E1;
    lower[0x01E2] = 0x01E3;
    lower[0x01E4] = 0x01E5;
    lower[0x01E6] = 0x01E7;
    lower[0x01E8] = 0x01E9;
    lower[0x01EA] = 0x01EB;
    lower[0x01EC] = 0x01ED;
    lower[0x01EE] = 0x01EF;
    lower[0x01F1] = 0x01F3;
    lower[0x01F4] = 0x01F5;
    lower[0x01F6] = 0x0195;
    lower[0x01F7] = 0x01BF;
    lower[0x01F8] = 0x01F9;
    lower[0x01FA] = 0x01FB;
    lower[0x01FC] = 0x01FD;
    lower[0x01FE] = 0x01FF;
    lower[0x0200] = 0x0201;
    lower[0x0202] = 0x0203;
    lower[0x0204] = 0x0205;
    lower[0x0206] = 0x0207;
    lower[0x0208] = 0x0209;
    lower[0x020A] = 0x020B;
    lower[0x020C] = 0x020D;
    lower[0x020E] = 0x020F;
    lower[0x0210] = 0x0211;
    lower[0x0212] = 0x0213;
    lower[0x0214] = 0x0215;
    lower[0x0216] = 0x0217;
    lower[0x0218] = 0x0219;
    lower[0x021A] = 0x021B;
    lower[0x021C] = 0x021D;
    lower[0x021E] = 0x021F;
    lower[0x0220] = 0x019E;
    lower[0x0222] = 0x0223;
    lower[0x0224] = 0x0225;
    lower[0x0226] = 0x0227;
    lower[0x0228] = 0x0229;
    lower[0x022A] = 0x022B;
    lower[0x022C] = 0x022D;
    lower[0x022E] = 0x022F;
    lower[0x0230] = 0x0231;
    lower[0x0232] = 0x0233;
    lower[0x023A] = 0x2C65;
    lower[0x023B] = 0x023C;
    lower[0x023D] = 0x019A;
    lower[0x023E] = 0x2C66;
    lower[0x0241] = 0x0242;
    lower[0x0243] = 0x0180;
    lower[0x0244] = 0x0289;
    lower[0x0245] = 0x028C;
    lower[0x0246] = 0x0247;
    lower[0x0248] = 0x0249;
    lower[0x024A] = 0x024B;
    lower[0x024C] = 0x024D;
    lower[0x024E] = 0x024F;
    lower[0x0386] = 0x03AC;
    lower[0x0388] = 0x03AD;
    lower[0x0389] = 0x03AE;
    lower[0x038A] = 0x03AF;
    lower[0x038C] = 0x03CC;
    lower[0x038E] = 0x03CD;
    lower[0x038F] = 0x03CE;
    lower[0x0391] = 0x03B1;
    lower[0x0392] = 0x03B2;
    lower[0x0393] = 0x03B3;
    lower[0x0394] = 0x03B4;
    lower[0x0395] = 0x03B5;
    lower[0x0396] = 0x03B6;
    lower[0x0397] = 0x03B7;
    lower[0x0398] = 0x03B8;
    lower[0x0399] = 0x03B9;
    lower[0x039A] = 0x03BA;
    lower[0x039B] = 0x03BB;
    lower[0x039C] = 0x03BC;
    lower[0x039D] = 0x03BD;
    lower[0x039E] = 0x03BE;
    lower[0x039F] = 0x03BF;
    lower[0x03A0] = 0x03C0;
    lower[0x03A1] = 0x03C1;
    lower[0x03A3] = 0x03C3;
    lower[0x03A4] = 0x03C4;
    lower[0x03A5] = 0x03C5;
    lower[0x03A6] = 0x03C6;
    lower[0x03A7] = 0x03C7;
    lower[0x03A8] = 0x03C8;
    lower[0x03A9] = 0x03C9;
    lower[0x03AA] = 0x03CA;
    lower[0x03AB] = 0x03CB;
    lower[0x03D8] = 0x03D9;
    lower[0x03DA] = 0x03DB;
    lower[0x03DC] = 0x03DD;
    lower[0x03DE] = 0x03DF;
    lower[0x03E0] = 0x03E1;
    lower[0x03E2] = 0x03E3;
    lower[0x03E4] = 0x03E5;
    lower[0x03E6] = 0x03E7;
    lower[0x03E8] = 0x03E9;
    lower[0x03EA] = 0x03EB;
    lower[0x03EC] = 0x03ED;
    lower[0x03EE] = 0x03EF;
    lower[0x03F4] = 0x03B8;
    lower[0x03F7] = 0x03F8;
    lower[0x03F9] = 0x03F2;
    lower[0x03FA] = 0x03FB;
    lower[0x03FD] = 0x037B;
    lower[0x03FE] = 0x037C;
    lower[0x03FF] = 0x037D;
    lower[0x0400] = 0x0450;
    lower[0x0401] = 0x0451;
    lower[0x0402] = 0x0452;
    lower[0x0403] = 0x0453;
    lower[0x0404] = 0x0454;
    lower[0x0405] = 0x0455;
    lower[0x0406] = 0x0456;
    lower[0x0407] = 0x0457;
    lower[0x0408] = 0x0458;
    lower[0x0409] = 0x0459;
    lower[0x040A] = 0x045A;
    lower[0x040B] = 0x045B;
    lower[0x040C] = 0x045C;
    lower[0x040D] = 0x045D;
    lower[0x040E] = 0x045E;
    lower[0x040F] = 0x045F;
    lower[0x0410] = 0x0430;
    lower[0x0411] = 0x0431;
    lower[0x0412] = 0x0432;
    lower[0x0413] = 0x0433;
    lower[0x0414] = 0x0434;
    lower[0x0415] = 0x0435;
    lower[0x0416] = 0x0436;
    lower[0x0417] = 0x0437;
    lower[0x0418] = 0x0438;
    lower[0x0419] = 0x0439;
    lower[0x041A] = 0x043A;
    lower[0x041B] = 0x043B;
    lower[0x041C] = 0x043C;
    lower[0x041D] = 0x043D;
    lower[0x041E] = 0x043E;
    lower[0x041F] = 0x043F;
    lower[0x0420] = 0x0440;
    lower[0x0421] = 0x0441;
    lower[0x0422] = 0x0442;
    lower[0x0423] = 0x0443;
    lower[0x0424] = 0x0444;
    lower[0x0425] = 0x0445;
    lower[0x0426] = 0x0446;
    lower[0x0427] = 0x0447;
    lower[0x0428] = 0x0448;
    lower[0x0429] = 0x0449;
    lower[0x042A] = 0x044A;
    lower[0x042B] = 0x044B;
    lower[0x042C] = 0x044C;
    lower[0x042D] = 0x044D;
    lower[0x042E] = 0x044E;
    lower[0x042F] = 0x044F;
    lower[0x0460] = 0x0461;
    lower[0x0462] = 0x0463;
    lower[0x0464] = 0x0465;
    lower[0x0466] = 0x0467;
    lower[0x0468] = 0x0469;
    lower[0x046A] = 0x046B;
    lower[0x046C] = 0x046D;
    lower[0x046E] = 0x046F;
    lower[0x0470] = 0x0471;
    lower[0x0472] = 0x0473;
    lower[0x0474] = 0x0475;
    lower[0x0476] = 0x0477;
    lower[0x0478] = 0x0479;
    lower[0x047A] = 0x047B;
    lower[0x047C] = 0x047D;
    lower[0x047E] = 0x047F;
    lower[0x0480] = 0x0481;
    lower[0x048A] = 0x048B;
    lower[0x048C] = 0x048D;
    lower[0x048E] = 0x048F;
    lower[0x0490] = 0x0491;
    lower[0x0492] = 0x0493;
    lower[0x0494] = 0x0495;
    lower[0x0496] = 0x0497;
    lower[0x0498] = 0x0499;
    lower[0x049A] = 0x049B;
    lower[0x049C] = 0x049D;
    lower[0x049E] = 0x049F;
    lower[0x04A0] = 0x04A1;
    lower[0x04A2] = 0x04A3;
    lower[0x04A4] = 0x04A5;
    lower[0x04A6] = 0x04A7;
    lower[0x04A8] = 0x04A9;
    lower[0x04AA] = 0x04AB;
    lower[0x04AC] = 0x04AD;
    lower[0x04AE] = 0x04AF;
    lower[0x04B0] = 0x04B1;
    lower[0x04B2] = 0x04B3;
    lower[0x04B4] = 0x04B5;
    lower[0x04B6] = 0x04B7;
    lower[0x04B8] = 0x04B9;
    lower[0x04BA] = 0x04BB;
    lower[0x04BC] = 0x04BD;
    lower[0x04BE] = 0x04BF;
    lower[0x04C0] = 0x04CF;
    lower[0x04C1] = 0x04C2;
    lower[0x04C3] = 0x04C4;
    lower[0x04C5] = 0x04C6;
    lower[0x04C7] = 0x04C8;
    lower[0x04C9] = 0x04CA;
    lower[0x04CB] = 0x04CC;
    lower[0x04CD] = 0x04CE;
    lower[0x04D0] = 0x04D1;
    lower[0x04D2] = 0x04D3;
    lower[0x04D4] = 0x04D5;
    lower[0x04D6] = 0x04D7;
    lower[0x04D8] = 0x04D9;
    lower[0x04DA] = 0x04DB;
    lower[0x04DC] = 0x04DD;
    lower[0x04DE] = 0x04DF;
    lower[0x04E0] = 0x04E1;
    lower[0x04E2] = 0x04E3;
    lower[0x04E4] = 0x04E5;
    lower[0x04E6] = 0x04E7;
    lower[0x04E8] = 0x04E9;
    lower[0x04EA] = 0x04EB;
    lower[0x04EC] = 0x04ED;
    lower[0x04EE] = 0x04EF;
    lower[0x04F0] = 0x04F1;
    lower[0x04F2] = 0x04F3;
    lower[0x04F4] = 0x04F5;
    lower[0x04F6] = 0x04F7;
    lower[0x04F8] = 0x04F9;
    lower[0x04FA] = 0x04FB;
    lower[0x04FC] = 0x04FD;
    lower[0x04FE] = 0x04FF;
    lower[0x0500] = 0x0501;
    lower[0x0502] = 0x0503;
    lower[0x0504] = 0x0505;
    lower[0x0506] = 0x0507;
    lower[0x0508] = 0x0509;
    lower[0x050A] = 0x050B;
    lower[0x050C] = 0x050D;
    lower[0x050E] = 0x050F;
    lower[0x0510] = 0x0511;
    lower[0x0512] = 0x0513;
    lower[0x0531] = 0x0561;
    lower[0x0532] = 0x0562;
    lower[0x0533] = 0x0563;
    lower[0x0534] = 0x0564;
    lower[0x0535] = 0x0565;
    lower[0x0536] = 0x0566;
    lower[0x0537] = 0x0567;
    lower[0x0538] = 0x0568;
    lower[0x0539] = 0x0569;
    lower[0x053A] = 0x056A;
    lower[0x053B] = 0x056B;
    lower[0x053C] = 0x056C;
    lower[0x053D] = 0x056D;
    lower[0x053E] = 0x056E;
    lower[0x053F] = 0x056F;
    lower[0x0540] = 0x0570;
    lower[0x0541] = 0x0571;
    lower[0x0542] = 0x0572;
    lower[0x0543] = 0x0573;
    lower[0x0544] = 0x0574;
    lower[0x0545] = 0x0575;
    lower[0x0546] = 0x0576;
    lower[0x0547] = 0x0577;
    lower[0x0548] = 0x0578;
    lower[0x0549] = 0x0579;
    lower[0x054A] = 0x057A;
    lower[0x054B] = 0x057B;
    lower[0x054C] = 0x057C;
    lower[0x054D] = 0x057D;
    lower[0x054E] = 0x057E;
    lower[0x054F] = 0x057F;
    lower[0x0550] = 0x0580;
    lower[0x0551] = 0x0581;
    lower[0x0552] = 0x0582;
    lower[0x0553] = 0x0583;
    lower[0x0554] = 0x0584;
    lower[0x0555] = 0x0585;
    lower[0x0556] = 0x0586;
    lower[0x10A0] = 0x2D00;
    lower[0x10A1] = 0x2D01;
    lower[0x10A2] = 0x2D02;
    lower[0x10A3] = 0x2D03;
    lower[0x10A4] = 0x2D04;
    lower[0x10A5] = 0x2D05;
    lower[0x10A6] = 0x2D06;
    lower[0x10A7] = 0x2D07;
    lower[0x10A8] = 0x2D08;
    lower[0x10A9] = 0x2D09;
    lower[0x10AA] = 0x2D0A;
    lower[0x10AB] = 0x2D0B;
    lower[0x10AC] = 0x2D0C;
    lower[0x10AD] = 0x2D0D;
    lower[0x10AE] = 0x2D0E;
    lower[0x10AF] = 0x2D0F;
    lower[0x10B0] = 0x2D10;
    lower[0x10B1] = 0x2D11;
    lower[0x10B2] = 0x2D12;
    lower[0x10B3] = 0x2D13;
    lower[0x10B4] = 0x2D14;
    lower[0x10B5] = 0x2D15;
    lower[0x10B6] = 0x2D16;
    lower[0x10B7] = 0x2D17;
    lower[0x10B8] = 0x2D18;
    lower[0x10B9] = 0x2D19;
    lower[0x10BA] = 0x2D1A;
    lower[0x10BB] = 0x2D1B;
    lower[0x10BC] = 0x2D1C;
    lower[0x10BD] = 0x2D1D;
    lower[0x10BE] = 0x2D1E;
    lower[0x10BF] = 0x2D1F;
    lower[0x10C0] = 0x2D20;
    lower[0x10C1] = 0x2D21;
    lower[0x10C2] = 0x2D22;
    lower[0x10C3] = 0x2D23;
    lower[0x10C4] = 0x2D24;
    lower[0x10C5] = 0x2D25;
    lower[0x1E00] = 0x1E01;
    lower[0x1E02] = 0x1E03;
    lower[0x1E04] = 0x1E05;
    lower[0x1E06] = 0x1E07;
    lower[0x1E08] = 0x1E09;
    lower[0x1E0A] = 0x1E0B;
    lower[0x1E0C] = 0x1E0D;
    lower[0x1E0E] = 0x1E0F;
    lower[0x1E10] = 0x1E11;
    lower[0x1E12] = 0x1E13;
    lower[0x1E14] = 0x1E15;
    lower[0x1E16] = 0x1E17;
    lower[0x1E18] = 0x1E19;
    lower[0x1E1A] = 0x1E1B;
    lower[0x1E1C] = 0x1E1D;
    lower[0x1E1E] = 0x1E1F;
    lower[0x1E20] = 0x1E21;
    lower[0x1E22] = 0x1E23;
    lower[0x1E24] = 0x1E25;
    lower[0x1E26] = 0x1E27;
    lower[0x1E28] = 0x1E29;
    lower[0x1E2A] = 0x1E2B;
    lower[0x1E2C] = 0x1E2D;
    lower[0x1E2E] = 0x1E2F;
    lower[0x1E30] = 0x1E31;
    lower[0x1E32] = 0x1E33;
    lower[0x1E34] = 0x1E35;
    lower[0x1E36] = 0x1E37;
    lower[0x1E38] = 0x1E39;
    lower[0x1E3A] = 0x1E3B;
    lower[0x1E3C] = 0x1E3D;
    lower[0x1E3E] = 0x1E3F;
    lower[0x1E40] = 0x1E41;
    lower[0x1E42] = 0x1E43;
    lower[0x1E44] = 0x1E45;
    lower[0x1E46] = 0x1E47;
    lower[0x1E48] = 0x1E49;
    lower[0x1E4A] = 0x1E4B;
    lower[0x1E4C] = 0x1E4D;
    lower[0x1E4E] = 0x1E4F;
    lower[0x1E50] = 0x1E51;
    lower[0x1E52] = 0x1E53;
    lower[0x1E54] = 0x1E55;
    lower[0x1E56] = 0x1E57;
    lower[0x1E58] = 0x1E59;
    lower[0x1E5A] = 0x1E5B;
    lower[0x1E5C] = 0x1E5D;
    lower[0x1E5E] = 0x1E5F;
    lower[0x1E60] = 0x1E61;
    lower[0x1E62] = 0x1E63;
    lower[0x1E64] = 0x1E65;
    lower[0x1E66] = 0x1E67;
    lower[0x1E68] = 0x1E69;
    lower[0x1E6A] = 0x1E6B;
    lower[0x1E6C] = 0x1E6D;
    lower[0x1E6E] = 0x1E6F;
    lower[0x1E70] = 0x1E71;
    lower[0x1E72] = 0x1E73;
    lower[0x1E74] = 0x1E75;
    lower[0x1E76] = 0x1E77;
    lower[0x1E78] = 0x1E79;
    lower[0x1E7A] = 0x1E7B;
    lower[0x1E7C] = 0x1E7D;
    lower[0x1E7E] = 0x1E7F;
    lower[0x1E80] = 0x1E81;
    lower[0x1E82] = 0x1E83;
    lower[0x1E84] = 0x1E85;
    lower[0x1E86] = 0x1E87;
    lower[0x1E88] = 0x1E89;
    lower[0x1E8A] = 0x1E8B;
    lower[0x1E8C] = 0x1E8D;
    lower[0x1E8E] = 0x1E8F;
    lower[0x1E90] = 0x1E91;
    lower[0x1E92] = 0x1E93;
    lower[0x1E94] = 0x1E95;
    lower[0x1EA0] = 0x1EA1;
    lower[0x1EA2] = 0x1EA3;
    lower[0x1EA4] = 0x1EA5;
    lower[0x1EA6] = 0x1EA7;
    lower[0x1EA8] = 0x1EA9;
    lower[0x1EAA] = 0x1EAB;
    lower[0x1EAC] = 0x1EAD;
    lower[0x1EAE] = 0x1EAF;
    lower[0x1EB0] = 0x1EB1;
    lower[0x1EB2] = 0x1EB3;
    lower[0x1EB4] = 0x1EB5;
    lower[0x1EB6] = 0x1EB7;
    lower[0x1EB8] = 0x1EB9;
    lower[0x1EBA] = 0x1EBB;
    lower[0x1EBC] = 0x1EBD;
    lower[0x1EBE] = 0x1EBF;
    lower[0x1EC0] = 0x1EC1;
    lower[0x1EC2] = 0x1EC3;
    lower[0x1EC4] = 0x1EC5;
    lower[0x1EC6] = 0x1EC7;
    lower[0x1EC8] = 0x1EC9;
    lower[0x1ECA] = 0x1ECB;
    lower[0x1ECC] = 0x1ECD;
    lower[0x1ECE] = 0x1ECF;
    lower[0x1ED0] = 0x1ED1;
    lower[0x1ED2] = 0x1ED3;
    lower[0x1ED4] = 0x1ED5;
    lower[0x1ED6] = 0x1ED7;
    lower[0x1ED8] = 0x1ED9;
    lower[0x1EDA] = 0x1EDB;
    lower[0x1EDC] = 0x1EDD;
    lower[0x1EDE] = 0x1EDF;
    lower[0x1EE0] = 0x1EE1;
    lower[0x1EE2] = 0x1EE3;
    lower[0x1EE4] = 0x1EE5;
    lower[0x1EE6] = 0x1EE7;
    lower[0x1EE8] = 0x1EE9;
    lower[0x1EEA] = 0x1EEB;
    lower[0x1EEC] = 0x1EED;
    lower[0x1EEE] = 0x1EEF;
    lower[0x1EF0] = 0x1EF1;
    lower[0x1EF2] = 0x1EF3;
    lower[0x1EF4] = 0x1EF5;
    lower[0x1EF6] = 0x1EF7;
    lower[0x1EF8] = 0x1EF9;
    lower[0x1F08] = 0x1F00;
    lower[0x1F09] = 0x1F01;
    lower[0x1F0A] = 0x1F02;
    lower[0x1F0B] = 0x1F03;
    lower[0x1F0C] = 0x1F04;
    lower[0x1F0D] = 0x1F05;
    lower[0x1F0E] = 0x1F06;
    lower[0x1F0F] = 0x1F07;
    lower[0x1F18] = 0x1F10;
    lower[0x1F19] = 0x1F11;
    lower[0x1F1A] = 0x1F12;
    lower[0x1F1B] = 0x1F13;
    lower[0x1F1C] = 0x1F14;
    lower[0x1F1D] = 0x1F15;
    lower[0x1F28] = 0x1F20;
    lower[0x1F29] = 0x1F21;
    lower[0x1F2A] = 0x1F22;
    lower[0x1F2B] = 0x1F23;
    lower[0x1F2C] = 0x1F24;
    lower[0x1F2D] = 0x1F25;
    lower[0x1F2E] = 0x1F26;
    lower[0x1F2F] = 0x1F27;
    lower[0x1F38] = 0x1F30;
    lower[0x1F39] = 0x1F31;
    lower[0x1F3A] = 0x1F32;
    lower[0x1F3B] = 0x1F33;
    lower[0x1F3C] = 0x1F34;
    lower[0x1F3D] = 0x1F35;
    lower[0x1F3E] = 0x1F36;
    lower[0x1F3F] = 0x1F37;
    lower[0x1F48] = 0x1F40;
    lower[0x1F49] = 0x1F41;
    lower[0x1F4A] = 0x1F42;
    lower[0x1F4B] = 0x1F43;
    lower[0x1F4C] = 0x1F44;
    lower[0x1F4D] = 0x1F45;
    lower[0x1F59] = 0x1F51;
    lower[0x1F5B] = 0x1F53;
    lower[0x1F5D] = 0x1F55;
    lower[0x1F5F] = 0x1F57;
    lower[0x1F68] = 0x1F60;
    lower[0x1F69] = 0x1F61;
    lower[0x1F6A] = 0x1F62;
    lower[0x1F6B] = 0x1F63;
    lower[0x1F6C] = 0x1F64;
    lower[0x1F6D] = 0x1F65;
    lower[0x1F6E] = 0x1F66;
    lower[0x1F6F] = 0x1F67;
    lower[0x1F88] = 0x1F80;
    lower[0x1F89] = 0x1F81;
    lower[0x1F8A] = 0x1F82;
    lower[0x1F8B] = 0x1F83;
    lower[0x1F8C] = 0x1F84;
    lower[0x1F8D] = 0x1F85;
    lower[0x1F8E] = 0x1F86;
    lower[0x1F8F] = 0x1F87;
    lower[0x1F98] = 0x1F90;
    lower[0x1F99] = 0x1F91;
    lower[0x1F9A] = 0x1F92;
    lower[0x1F9B] = 0x1F93;
    lower[0x1F9C] = 0x1F94;
    lower[0x1F9D] = 0x1F95;
    lower[0x1F9E] = 0x1F96;
    lower[0x1F9F] = 0x1F97;
    lower[0x1FA8] = 0x1FA0;
    lower[0x1FA9] = 0x1FA1;
    lower[0x1FAA] = 0x1FA2;
    lower[0x1FAB] = 0x1FA3;
    lower[0x1FAC] = 0x1FA4;
    lower[0x1FAD] = 0x1FA5;
    lower[0x1FAE] = 0x1FA6;
    lower[0x1FAF] = 0x1FA7;
    lower[0x1FB8] = 0x1FB0;
    lower[0x1FB9] = 0x1FB1;
    lower[0x1FBA] = 0x1F70;
    lower[0x1FBB] = 0x1F71;
    lower[0x1FBC] = 0x1FB3;
    lower[0x1FC8] = 0x1F72;
    lower[0x1FC9] = 0x1F73;
    lower[0x1FCA] = 0x1F74;
    lower[0x1FCB] = 0x1F75;
    lower[0x1FCC] = 0x1FC3;
    lower[0x1FD8] = 0x1FD0;
    lower[0x1FD9] = 0x1FD1;
    lower[0x1FDA] = 0x1F76;
    lower[0x1FDB] = 0x1F77;
    lower[0x1FE8] = 0x1FE0;
    lower[0x1FE9] = 0x1FE1;
    lower[0x1FEA] = 0x1F7A;
    lower[0x1FEB] = 0x1F7B;
    lower[0x1FEC] = 0x1FE5;
    lower[0x1FF8] = 0x1F78;
    lower[0x1FF9] = 0x1F79;
    lower[0x1FFA] = 0x1F7C;
    lower[0x1FFB] = 0x1F7D;
    lower[0x1FFC] = 0x1FF3;
    lower[0x2126] = 0x03C9;
    lower[0x212A] = 0x006B;
    lower[0x212B] = 0x00E5;
    lower[0x2132] = 0x214E;
    lower[0x2160] = 0x2170;
    lower[0x2161] = 0x2171;
    lower[0x2162] = 0x2172;
    lower[0x2163] = 0x2173;
    lower[0x2164] = 0x2174;
    lower[0x2165] = 0x2175;
    lower[0x2166] = 0x2176;
    lower[0x2167] = 0x2177;
    lower[0x2168] = 0x2178;
    lower[0x2169] = 0x2179;
    lower[0x216A] = 0x217A;
    lower[0x216B] = 0x217B;
    lower[0x216C] = 0x217C;
    lower[0x216D] = 0x217D;
    lower[0x216E] = 0x217E;
    lower[0x216F] = 0x217F;
    lower[0x2183] = 0x2184;
    lower[0x24B6] = 0x24D0;
    lower[0x24B7] = 0x24D1;
    lower[0x24B8] = 0x24D2;
    lower[0x24B9] = 0x24D3;
    lower[0x24BA] = 0x24D4;
    lower[0x24BB] = 0x24D5;
    lower[0x24BC] = 0x24D6;
    lower[0x24BD] = 0x24D7;
    lower[0x24BE] = 0x24D8;
    lower[0x24BF] = 0x24D9;
    lower[0x24C0] = 0x24DA;
    lower[0x24C1] = 0x24DB;
    lower[0x24C2] = 0x24DC;
    lower[0x24C3] = 0x24DD;
    lower[0x24C4] = 0x24DE;
    lower[0x24C5] = 0x24DF;
    lower[0x24C6] = 0x24E0;
    lower[0x24C7] = 0x24E1;
    lower[0x24C8] = 0x24E2;
    lower[0x24C9] = 0x24E3;
    lower[0x24CA] = 0x24E4;
    lower[0x24CB] = 0x24E5;
    lower[0x24CC] = 0x24E6;
    lower[0x24CD] = 0x24E7;
    lower[0x24CE] = 0x24E8;
    lower[0x24CF] = 0x24E9;
    lower[0x2C00] = 0x2C30;
    lower[0x2C01] = 0x2C31;
    lower[0x2C02] = 0x2C32;
    lower[0x2C03] = 0x2C33;
    lower[0x2C04] = 0x2C34;
    lower[0x2C05] = 0x2C35;
    lower[0x2C06] = 0x2C36;
    lower[0x2C07] = 0x2C37;
    lower[0x2C08] = 0x2C38;
    lower[0x2C09] = 0x2C39;
    lower[0x2C0A] = 0x2C3A;
    lower[0x2C0B] = 0x2C3B;
    lower[0x2C0C] = 0x2C3C;
    lower[0x2C0D] = 0x2C3D;
    lower[0x2C0E] = 0x2C3E;
    lower[0x2C0F] = 0x2C3F;
    lower[0x2C10] = 0x2C40;
    lower[0x2C11] = 0x2C41;
    lower[0x2C12] = 0x2C42;
    lower[0x2C13] = 0x2C43;
    lower[0x2C14] = 0x2C44;
    lower[0x2C15] = 0x2C45;
    lower[0x2C16] = 0x2C46;
    lower[0x2C17] = 0x2C47;
    lower[0x2C18] = 0x2C48;
    lower[0x2C19] = 0x2C49;
    lower[0x2C1A] = 0x2C4A;
    lower[0x2C1B] = 0x2C4B;
    lower[0x2C1C] = 0x2C4C;
    lower[0x2C1D] = 0x2C4D;
    lower[0x2C1E] = 0x2C4E;
    lower[0x2C1F] = 0x2C4F;
    lower[0x2C20] = 0x2C50;
    lower[0x2C21] = 0x2C51;
    lower[0x2C22] = 0x2C52;
    lower[0x2C23] = 0x2C53;
    lower[0x2C24] = 0x2C54;
    lower[0x2C25] = 0x2C55;
    lower[0x2C26] = 0x2C56;
    lower[0x2C27] = 0x2C57;
    lower[0x2C28] = 0x2C58;
    lower[0x2C29] = 0x2C59;
    lower[0x2C2A] = 0x2C5A;
    lower[0x2C2B] = 0x2C5B;
    lower[0x2C2C] = 0x2C5C;
    lower[0x2C2D] = 0x2C5D;
    lower[0x2C2E] = 0x2C5E;
    lower[0x2C60] = 0x2C61;
    lower[0x2C62] = 0x026B;
    lower[0x2C63] = 0x1D7D;
    lower[0x2C64] = 0x027D;
    lower[0x2C67] = 0x2C68;
    lower[0x2C69] = 0x2C6A;
    lower[0x2C6B] = 0x2C6C;
    lower[0x2C75] = 0x2C76;
    lower[0x2C80] = 0x2C81;
    lower[0x2C82] = 0x2C83;
    lower[0x2C84] = 0x2C85;
    lower[0x2C86] = 0x2C87;
    lower[0x2C88] = 0x2C89;
    lower[0x2C8A] = 0x2C8B;
    lower[0x2C8C] = 0x2C8D;
    lower[0x2C8E] = 0x2C8F;
    lower[0x2C90] = 0x2C91;
    lower[0x2C92] = 0x2C93;
    lower[0x2C94] = 0x2C95;
    lower[0x2C96] = 0x2C97;
    lower[0x2C98] = 0x2C99;
    lower[0x2C9A] = 0x2C9B;
    lower[0x2C9C] = 0x2C9D;
    lower[0x2C9E] = 0x2C9F;
    lower[0x2CA0] = 0x2CA1;
    lower[0x2CA2] = 0x2CA3;
    lower[0x2CA4] = 0x2CA5;
    lower[0x2CA6] = 0x2CA7;
    lower[0x2CA8] = 0x2CA9;
    lower[0x2CAA] = 0x2CAB;
    lower[0x2CAC] = 0x2CAD;
    lower[0x2CAE] = 0x2CAF;
    lower[0x2CB0] = 0x2CB1;
    lower[0x2CB2] = 0x2CB3;
    lower[0x2CB4] = 0x2CB5;
    lower[0x2CB6] = 0x2CB7;
    lower[0x2CB8] = 0x2CB9;
    lower[0x2CBA] = 0x2CBB;
    lower[0x2CBC] = 0x2CBD;
    lower[0x2CBE] = 0x2CBF;
    lower[0x2CC0] = 0x2CC1;
    lower[0x2CC2] = 0x2CC3;
    lower[0x2CC4] = 0x2CC5;
    lower[0x2CC6] = 0x2CC7;
    lower[0x2CC8] = 0x2CC9;
    lower[0x2CCA] = 0x2CCB;
    lower[0x2CCC] = 0x2CCD;
    lower[0x2CCE] = 0x2CCF;
    lower[0x2CD0] = 0x2CD1;
    lower[0x2CD2] = 0x2CD3;
    lower[0x2CD4] = 0x2CD5;
    lower[0x2CD6] = 0x2CD7;
    lower[0x2CD8] = 0x2CD9;
    lower[0x2CDA] = 0x2CDB;
    lower[0x2CDC] = 0x2CDD;
    lower[0x2CDE] = 0x2CDF;
    lower[0x2CE0] = 0x2CE1;
    lower[0x2CE2] = 0x2CE3;
    lower[0xFF21] = 0xFF41;
    lower[0xFF22] = 0xFF42;
    lower[0xFF23] = 0xFF43;
    lower[0xFF24] = 0xFF44;
    lower[0xFF25] = 0xFF45;
    lower[0xFF26] = 0xFF46;
    lower[0xFF27] = 0xFF47;
    lower[0xFF28] = 0xFF48;
    lower[0xFF29] = 0xFF49;
    lower[0xFF2A] = 0xFF4A;
    lower[0xFF2B] = 0xFF4B;
    lower[0xFF2C] = 0xFF4C;
    lower[0xFF2D] = 0xFF4D;
    lower[0xFF2E] = 0xFF4E;
    lower[0xFF2F] = 0xFF4F;
    lower[0xFF30] = 0xFF50;
    lower[0xFF31] = 0xFF51;
    lower[0xFF32] = 0xFF52;
    lower[0xFF33] = 0xFF53;
    lower[0xFF34] = 0xFF54;
    lower[0xFF35] = 0xFF55;
    lower[0xFF36] = 0xFF56;
    lower[0xFF37] = 0xFF57;
    lower[0xFF38] = 0xFF58;
    lower[0xFF39] = 0xFF59;
    lower[0xFF3A] = 0xFF5A;
    lower[0x10400] = 0x10428;
    lower[0x10401] = 0x10429;
    lower[0x10402] = 0x1042A;
    lower[0x10403] = 0x1042B;
    lower[0x10404] = 0x1042C;
    lower[0x10405] = 0x1042D;
    lower[0x10406] = 0x1042E;
    lower[0x10407] = 0x1042F;
    lower[0x10408] = 0x10430;
    lower[0x10409] = 0x10431;
    lower[0x1040A] = 0x10432;
    lower[0x1040B] = 0x10433;
    lower[0x1040C] = 0x10434;
    lower[0x1040D] = 0x10435;
    lower[0x1040E] = 0x10436;
    lower[0x1040F] = 0x10437;
    lower[0x10410] = 0x10438;
    lower[0x10411] = 0x10439;
    lower[0x10412] = 0x1043A;
    lower[0x10413] = 0x1043B;
    lower[0x10414] = 0x1043C;
    lower[0x10415] = 0x1043D;
    lower[0x10416] = 0x1043E;
    lower[0x10417] = 0x1043F;
    lower[0x10418] = 0x10440;
    lower[0x10419] = 0x10441;
    lower[0x1041A] = 0x10442;
    lower[0x1041B] = 0x10443;
    lower[0x1041C] = 0x10444;
    lower[0x1041D] = 0x10445;
    lower[0x1041E] = 0x10446;
    lower[0x1041F] = 0x10447;
    lower[0x10420] = 0x10448;
    lower[0x10421] = 0x10449;
    lower[0x10422] = 0x1044A;
    lower[0x10423] = 0x1044B;
    lower[0x10424] = 0x1044C;
    lower[0x10425] = 0x1044D;
    lower[0x10426] = 0x1044E;
    lower[0x10427] = 0x1044F;

    // UTR #21 describes an implementation relying solely on the
    // Unicode database single-character case mappings as "legacy",
    // and notes that it is "insufficient for languages such as
    // German". We should expand this to handle the supplemental
    // special casing properties.

    public function toUpperCaseCharCode(i : uint) : uint {
        var c = upper[i];
        return c ? c : i;
    }

    public function toLowerCaseCharCode(i : uint) : uint {
        var c = lower[i];
        return c ? c : i;
    }
}
