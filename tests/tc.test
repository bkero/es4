// See "parse.test" for information about the unit test file format.

%% [int literal] verify, pass
1

%% [double literal] verify, pass
1.23

%% [null literal] verify, pass
null

%% [true literal] verify, pass
true

%% [false literal] verify, pass
false

%% [string literal] verify, pass
"string"

%% [structurally typed array literal] verify, pass
[0] : [int]

%% [structurally typed array literal] verify, pass
[0, true, "blue"] : [int, boolean, string]

%% [nominally typed array literal] verify, pass
[1, 2, "foo"] : Array

%% [untyped array literal] verify, pass
[1, 2, "bar"] 

%% [dynamically typed array literal] verify, pass
[1, 2, "bar"] : *

%% [loosely typed array literal] verify, pass
[1, 2, "baz"] : Object

// cannot infer object types yet
//%% [structurally typed object literal] verify, pass
//({} : {})

//%% [dynamically typed object literal] verify, pass
//{} : *

//%% [untyped object literal] verify, pass
//{}

//%% [structurally typed object literal] verify, pass
//{ x: 0, y: true, z: "blue" } : { x: int, y: Boolean }

//%% [structurally typed object literal] verify, pass
//{ x: 0, y: true, z: "blue" } : { x: int, y: Boolean, z: String }

%% [let1] verify, pass
let (x=1) x

%% [let2] verify, pass
let (x=1) let (y=x) y

%% [let3] verify, pass
let (z=2,y=3) y

%% [comma] verify, pass
1,2,"abc"

%% [this] verify, pass
this

%% [fn1] verify, pass
(function f(x:int):int { return 1 });

%% [fn2] verify, pass
(function f(x:int):int { return 1 }) (4);

%% [fn3] verify, pass
(function f(x:int,y):int { return 1 }) (4,5);

%% [fn4] verify, pass
let (f=function f() {}) f(3);

%% [fn6] verify, pass
(type function(int):int);

%% [fn5] verify, pass
let (f:function(x:int):int=function f(x:int):int {return x}) f(3);


%% [fn7] verify, pass
(function f(...x):int { return 1 }) (4);

%% [fn8] verify, pass
(function f.<X>(x:X):X { return x});

%% [fn9] verify, pass
let (f=1) f(3)

%% [function defn] verify, pass
function f(x) { return x; }
 
%% [fn52] verify, pass
let (f:function(y:int):int=function f(x:int):int {return x}) f(3);

%% [fn53] verify, pass
let (f:function(y:*):* =function f(x:int):int {return x}) f(3);

%% [fn54] verify, pass
let (f:function(y:int):int=function f(x:int):int {return x}) f(3);

%% [fn55] verify, pass
let (f:function(y)=function f(x:int):int {return x}) f(3);

%% [fn56] verify, pass
let (f:function(y:int):int=function f(x) {return x}) f(3);

